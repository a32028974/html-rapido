<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ingreso r√°pido</title>
  <link rel="stylesheet" href="estilos.css">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#111827">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
  <h2 class="titulo">V16-8 10.56 Ingreso r√°pido</h2>

  <div class="spinner" id="spinner">
    <div class="loader"></div>
    <div class="spinner-text">Cargando...</div>
  </div>

  <form id="formulario" class="card">
    <!-- Fechas -->
    <div class="grid-2">
      <label class="field">
        <span>Fecha que encarga</span>
        <input type="text" name="fecha" id="fecha" readonly>
      </label>
      <label class="field">
        <span>Fecha que retira (estimada)</span>
        <input type="text" name="fecha_retira" id="fecha_retira" readonly>
      </label>
    </div>

    <!-- Entrega -->
    <div class="row">
      <span class="muted">D√≠as estimados de entrega:</span>
      <label><input type="radio" name="entrega" value="7" checked> Stock <span class="sub">(7 d√≠as aprox)</span></label>
      <label><input type="radio" name="entrega" value="3"> Urgente <span class="sub">(3 d√≠as aprox)</span></label>
      <label><input type="radio" name="entrega" value="15"> Laboratorio <span class="sub">(15 d√≠as aprox)</span></label>
    </div>

    <!-- Identificaci√≥n -->
    <div class="grid-4">
      <label class="field">
        <span>N√∫mero de trabajo</span>
        <input type="text" name="numero_trabajo" id="numero_trabajo" placeholder="Auto por tel√©fono" required>
      </label>

      <label class="field">
        <span>DNI</span>
        <div class="dni-wrapper">
          <input type="text" name="dni" id="dni" required>
          <span id="dni-loading" class="inline-spinner" hidden></span>
        </div>
      </label>

      <label class="field">
        <span>Apellido y nombre</span>
        <input type="text" name="nombre" id="nombre" required>
      </label>

      <label class="field">
        <span>N√∫mero de tel√©fono</span>
        <input type="text" name="telefono" id="telefono" required>
      </label>
    </div>

    <!-- Producto -->
    <div class="grid-2">
      <label class="field">
        <span>Tipo de cristal</span>
        <input type="text" name="cristal" id="cristal" list="lista-cristales" required>
        <datalist id="lista-cristales"></datalist>
      </label>

      <label class="field">
        <span>Precio</span>
        <input type="text" id="precio_cristal" placeholder="">
      </label>
    </div>

    <label class="field">
      <span>N√∫mero de armaz√≥n (opcional)</span>
      <input type="text" name="numero_armazon" id="numero_armazon">
    </label>

    <div class="grid-2">
      <label class="field">
        <span>Modelo de armaz√≥n</span>
        <input type="text" name="armazon_detalle" id="armazon_detalle">
      </label>

      <label class="field">
        <span>Precio</span>
        <input type="text" id="precio_armazon">
      </label>
    </div>

    <div class="grid-2">
      <label class="field">
        <span>Otro concepto</span>
        <input type="text" name="otro_concepto" id="otro_concepto">
      </label>
      <label class="field">
        <span>Precio</span>
        <input type="text" id="precio_otro">
      </label>
    </div>

    <div class="grid-3">
      <label class="field">
        <span>Descripci√≥n</span>
        <input type="text" name="descripcion">
      </label>
      <label class="field">
        <span>Tipo</span>
        <input type="text" name="tipo">
      </label>
      <label class="field">
        <span>DR (oculista)</span>
        <input type="text" name="dr" id="dr" placeholder="Ej: Dr. P√©rez">
      </label>
    </div>

    <!-- Receta -->
    <div class="receta">
      <h3>OD</h3>
      <div class="fila">
        <select name="od_esf" id="od_esf"></select>
        <select name="od_cil" id="od_cil"></select>
        <input type="text" name="od_eje" id="od_eje" placeholder="EJE">
      </div>

      <h3>OI</h3>
      <div class="fila">
        <select name="oi_esf" id="oi_esf"></select>
        <select name="oi_cil" id="oi_cil"></select>
        <input type="text" name="oi_eje" id="oi_eje" placeholder="EJE">
      </div>

      <div class="fila">
        <input type="text" name="add" placeholder="ADD">
      </div>
    </div>

    <!-- Totales -->
    <div class="totales">
      <label class="field">
        <span>TOTAL</span>
        <input type="text" id="total" name="total" readonly>
      </label>
      <label class="field">
        <span>SE√ëA</span>
        <input type="text" id="sena" name="sena">
      </label>
      <label class="field">
        <span>SALDO</span>
        <input type="text" id="saldo" name="saldo" readonly>
      </label>
    </div>

    <!-- Acciones -->
    <div class="grid-3">
      <input type="text" name="vendedor" id="vendedor" placeholder="Nombre del vendedor">
      <input type="text" name="forma_pago" placeholder="Forma de pago">
      <div class="row end">
        <input type="submit" value="Guardar">
      </div>
    </div>
  </form>

  <div class="acciones">
    <button type="button" id="btn-imprimir">üñ®Ô∏è Imprimir</button>
    <button type="button" id="btn-limpiar">üßπ Limpiar</button>
  </div>

  <p id="mensaje" class="muted"></p>

  <script type="module" src="js/main.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./service-worker.js").catch(console.error);
      });
    }
  </script>
</body>
</html>
